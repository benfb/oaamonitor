{{ template "header" . }}

<canvas id="teamChart" style="padding: 10px;"></canvas>
<button id="downloadChart">Download Chart as PNG</button>

<div id="playersList" style="border-collapse: collapse; padding: 20px;">
    <h2>{{ .TeamName }} OAA</h2>
    <table id="teamPlayersTable">
        <thead>
            <tr>
                <th>Player</th>
                <th>OAA</th>
                <th></th>
            </tr>
        </thead>
        <tbody>
            {{ range $player, $stats := .SparklinesData }}
            <tr>
                <td><a href="/player/{{ $player }}">{{ $stats.Name }}</a></td>
                <td>{{ $stats.LatestOAA }}</td>
                <td>
                    <canvas width="100" height="30" id="playerChart{{ $player }}"></canvas>
                </td>
            </tr>
            {{ end }}
        </tbody>
    </table>
</div>

<script>
    var teamStats = {{ .TeamStats }};
    var teamName = "{{ .TeamName }}";
    var sparklinesData = {{ .SparklinesData }};
</script>

<script src="/static/teamChart.js" defer></script>

{{ template "footer" . }}